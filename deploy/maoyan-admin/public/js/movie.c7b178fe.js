(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["movie"],{"02de":function(t,e,i){"use strict";function n(t){var e=window.getComputedStyle(t),i="none"===e.display,n=null===t.offsetParent&&"fixed"!==e.position;return i||n}i.d(e,"a",(function(){return n}))},1325:function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"a",(function(){return a})),i.d(e,"c",(function(){return u}));var n=i("a142"),r=!1;if(!n["g"])try{var s={};Object.defineProperty(s,"passive",{get:function(){r=!0}}),window.addEventListener("test-passive",null,s)}catch(l){}function o(t,e,i,s){void 0===s&&(s=!1),n["g"]||t.addEventListener(e,i,!!r&&{capture:!1,passive:s})}function a(t,e,i){n["g"]||t.removeEventListener(e,i)}function c(t){t.stopPropagation()}function u(t,e){("boolean"!==typeof t.cancelable||t.cancelable)&&t.preventDefault(),e&&c(t)}},"159b":function(t,e,i){var n=i("da84"),r=i("fdbc"),s=i("17c2"),o=i("9112");for(var a in r){var c=n[a],u=c&&c.prototype;if(u&&u.forEach!==s)try{o(u,"forEach",s)}catch(l){u.forEach=s}}},"17c2":function(t,e,i){"use strict";var n=i("b727").forEach,r=i("a640"),s=i("ae40"),o=r("forEach"),a=s("forEach");t.exports=o&&a?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},3875:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("1325"),r=10;function s(t,e){return t>e&&t>r?"horizontal":e>t&&e>r?"vertical":""}var o={data:function(){return{direction:""}},methods:{touchStart:function(t){this.resetTouchStatus(),this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY},touchMove:function(t){var e=t.touches[0];this.deltaX=e.clientX-this.startX,this.deltaY=e.clientY-this.startY,this.offsetX=Math.abs(this.deltaX),this.offsetY=Math.abs(this.deltaY),this.direction=this.direction||s(this.offsetX,this.offsetY)},resetTouchStatus:function(){this.direction="",this.deltaX=0,this.deltaY=0,this.offsetX=0,this.offsetY=0},bindTouchEvent:function(t){var e=this.onTouchStart,i=this.onTouchMove,r=this.onTouchEnd;Object(n["b"])(t,"touchstart",e),Object(n["b"])(t,"touchmove",i),r&&(Object(n["b"])(t,"touchend",r),Object(n["b"])(t,"touchcancel",r))}}}},"38c5":function(t,e,i){},4160:function(t,e,i){"use strict";var n=i("23e7"),r=i("17c2");n({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},5530:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));i("a4d3"),i("4de4"),i("4160"),i("e439"),i("dbb4"),i("b64b"),i("159b");function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){n(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}},"5fbe":function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i("1325"),r=0;function s(t){var e="binded_"+r++;function i(){this[e]||(t.call(this,n["b"],!0),this[e]=!0)}function s(){this[e]&&(t.call(this,n["a"],!1),this[e]=!1)}return{mounted:i,activated:i,deactivated:s,beforeDestroy:s}}},"6ab3":function(t,e,i){},"91e5":function(t,e,i){"use strict";var n=i("38c5"),r=i.n(n);r.a},a640:function(t,e,i){"use strict";var n=i("d039");t.exports=function(t,e){var i=[][t];return!!i&&n((function(){i.call(null,e||function(){throw 1},1)}))}},a8c1:function(t,e,i){"use strict";function n(t){return t===window}i.d(e,"d",(function(){return s})),i.d(e,"c",(function(){return o})),i.d(e,"b",(function(){return c})),i.d(e,"e",(function(){return u})),i.d(e,"a",(function(){return l}));var r=/scroll|auto/i;function s(t,e){void 0===e&&(e=window);var i=t;while(i&&"HTML"!==i.tagName&&1===i.nodeType&&i!==e){var n=window.getComputedStyle(i),s=n.overflowY;if(r.test(s)){if("BODY"!==i.tagName)return i;var o=window.getComputedStyle(i.parentNode),a=o.overflowY;if(r.test(a))return i}i=i.parentNode}return e}function o(t){var e="scrollTop"in t?t.scrollTop:t.pageYOffset;return Math.max(e,0)}function a(t,e){"scrollTop"in t?t.scrollTop=e:t.scrollTo(t.scrollX,e)}function c(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function u(t){a(window,t),a(document.body,t)}function l(t,e){if(n(t))return 0;var i=e?o(e):c();return t.getBoundingClientRect().top+i}},c0c2:function(t,e,i){},d7d5:function(t,e,i){"use strict";var n=i("e2db"),r=i.n(n);r.a},dbb4:function(t,e,i){var n=i("23e7"),r=i("83ab"),s=i("56ef"),o=i("fc6a"),a=i("06cf"),c=i("8418");n({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(t){var e,i,n=o(t),r=a.f,u=s(n),l={},h=0;while(u.length>h)i=r(n,e=u[h++]),void 0!==i&&c(l,e,i);return l}})},e2db:function(t,e,i){},e3b3:function(t,e,i){},e439:function(t,e,i){var n=i("23e7"),r=i("d039"),s=i("fc6a"),o=i("06cf").f,a=i("83ab"),c=r((function(){o(1)})),u=!a||c;n({target:"Object",stat:!0,forced:u,sham:!a},{getOwnPropertyDescriptor:function(t,e){return o(s(t),e)}})},fa23:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.refreshing,callback:function(e){t.refreshing=e},expression:"refreshing"}},[i("van-list",{attrs:{finished:t.finished,"finished-text":"我也是有底线的"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[i("main",[i("nav",[i("div",{on:{click:t.handleCityClick}},[t._v(" "+t._s(t.city)+" "),i("i",{staticClass:"city-entry-arrow"})]),i("div",[i("ul",[i("router-link",{attrs:{tag:"li","active-class":"active",to:"/movie/intheaters"}},[t._v("热映")]),i("router-link",{attrs:{tag:"li","active-class":"active",to:"/movie/comingsoon"}},[t._v("待映")])],1)]),i("div")]),i("div",{staticClass:"movie-content"},[i("transition",{attrs:{"enter-active-class":"animate__animated animate__"+t.enter,"leave-active-class":"animate__animated animate__"+t.leave}},[i("router-view",{attrs:{"hot-list":t.hotlist}})],1)],1)])])],1)},r=[],s=(i("99af"),i("2909")),o=(i("96cf"),i("1da1")),a=i("5530"),c=(i("68ef"),i("e3b3"),i("6ab3"),i("d282")),u=i("1325"),l=i("a8c1"),h=i("3875"),d=i("2638"),f=i.n(d),v=i("ea8e"),g=i("ba31"),p=Object(c["a"])("loading"),b=p[0],m=p[1];function y(t,e){if("spinner"===e.type){for(var i=[],n=0;n<12;n++)i.push(t("i"));return i}return t("svg",{class:m("circular"),attrs:{viewBox:"25 25 50 50"}},[t("circle",{attrs:{cx:"50",cy:"50",r:"20",fill:"none"}})])}function O(t,e,i){if(i.default){var n=e.textSize&&{fontSize:Object(v["a"])(e.textSize)};return t("span",{class:m("text"),style:n},[i.default()])}}function w(t,e,i,n){var r=e.color,s=e.size,o=e.type,a={color:r};if(s){var c=Object(v["a"])(s);a.width=c,a.height=c}return t("div",f()([{class:m([o,{vertical:e.vertical}])},Object(g["a"])(n,!0)]),[t("span",{class:m("spinner",o),style:a},[y(t,e)]),O(t,e,i)])}w.props={color:String,size:[Number,String],vertical:Boolean,textSize:[Number,String],type:{type:String,default:"circular"}};var S=b(w),x=Object(c["a"])("pull-refresh"),T=x[0],j=x[1],k=x[2],E=50,$=["pulling","loosing","success"],D=T({mixins:[h["a"]],props:{disabled:Boolean,successText:String,pullingText:String,loosingText:String,loadingText:String,value:{type:Boolean,required:!0},successDuration:{type:[Number,String],default:500},animationDuration:{type:[Number,String],default:300},headHeight:{type:[Number,String],default:E}},data:function(){return{status:"normal",distance:0,duration:0}},computed:{touchable:function(){return"loading"!==this.status&&"success"!==this.status&&!this.disabled},headStyle:function(){if(this.headHeight!==E)return{height:this.headHeight+"px"}}},watch:{value:function(t){this.duration=this.animationDuration,t?this.setStatus(+this.headHeight,!0):this.slots("success")||this.successText?this.showSuccessTip():this.setStatus(0,!1)}},mounted:function(){this.bindTouchEvent(this.$refs.track),this.scrollEl=Object(l["d"])(this.$el)},methods:{checkPullStart:function(t){this.ceiling=0===Object(l["c"])(this.scrollEl),this.ceiling&&(this.duration=0,this.touchStart(t))},onTouchStart:function(t){this.touchable&&this.checkPullStart(t)},onTouchMove:function(t){this.touchable&&(this.ceiling||this.checkPullStart(t),this.touchMove(t),this.ceiling&&this.deltaY>=0&&"vertical"===this.direction&&(Object(u["c"])(t),this.setStatus(this.ease(this.deltaY))))},onTouchEnd:function(){var t=this;this.touchable&&this.ceiling&&this.deltaY&&(this.duration=this.animationDuration,"loosing"===this.status?(this.setStatus(+this.headHeight,!0),this.$emit("input",!0),this.$nextTick((function(){t.$emit("refresh")}))):this.setStatus(0))},ease:function(t){var e=+this.headHeight;return t>e&&(t=t<2*e?e+(t-e)/2:1.5*e+(t-2*e)/4),Math.round(t)},setStatus:function(t,e){var i;i=e?"loading":0===t?"normal":t<this.headHeight?"pulling":"loosing",this.distance=t,i!==this.status&&(this.status=i)},genStatus:function(){var t=this.$createElement,e=this.status,i=this.distance,n=this.slots(e,{distance:i});if(n)return n;var r=[],s=this[e+"Text"]||k(e);return-1!==$.indexOf(e)&&r.push(t("div",{class:j("text")},[s])),"loading"===e&&r.push(t(S,{attrs:{size:"16"}},[s])),r},showSuccessTip:function(){var t=this;this.status="success",setTimeout((function(){t.setStatus(0)}),this.successDuration)}},render:function(){var t=arguments[0],e={transitionDuration:this.duration+"ms",transform:this.distance?"translate3d(0,"+this.distance+"px, 0)":""};return t("div",{class:j()},[t("div",{ref:"track",class:j("track"),style:e},[t("div",{class:j("head"),style:this.headStyle},[this.genStatus()]),this.slots()])])}}),Y=(i("c0c2"),i("02de")),L=i("5fbe"),P=Object(c["a"])("list"),C=P[0],_=P[1],B=P[2],X=C({mixins:[Object(L["a"])((function(t){this.scroller||(this.scroller=Object(l["d"])(this.$el)),t(this.scroller,"scroll",this.check)}))],model:{prop:"loading"},props:{error:Boolean,loading:Boolean,finished:Boolean,errorText:String,loadingText:String,finishedText:String,immediateCheck:{type:Boolean,default:!0},offset:{type:[Number,String],default:300},direction:{type:String,default:"down"}},data:function(){return{innerLoading:this.loading}},updated:function(){this.innerLoading=this.loading},mounted:function(){this.immediateCheck&&this.check()},watch:{loading:"check",finished:"check"},methods:{check:function(){var t=this;this.$nextTick((function(){if(!(t.innerLoading||t.finished||t.error)){var e,i=t.$el,n=t.scroller,r=t.offset,s=t.direction;e=n.getBoundingClientRect?n.getBoundingClientRect():{top:0,bottom:n.innerHeight};var o=e.bottom-e.top;if(!o||Object(Y["a"])(i))return!1;var a=!1,c=t.$refs.placeholder.getBoundingClientRect();a="up"===s?e.top-c.top<=r:c.bottom-e.bottom<=r,a&&(t.innerLoading=!0,t.$emit("input",!0),t.$emit("load"))}}))},clickErrorText:function(){this.$emit("update:error",!1),this.check()},genLoading:function(){var t=this.$createElement;if(this.innerLoading&&!this.finished)return t("div",{key:"loading",class:_("loading")},[this.slots("loading")||t(S,{attrs:{size:"16"}},[this.loadingText||B("loading")])])},genFinishedText:function(){var t=this.$createElement;if(this.finished){var e=this.slots("finished")||this.finishedText;if(e)return t("div",{class:_("finished-text")},[e])}},genErrorText:function(){var t=this.$createElement;if(this.error){var e=this.slots("error")||this.errorText;if(e)return t("div",{on:{click:this.clickErrorText},class:_("error-text")},[e])}}},render:function(){var t=arguments[0],e=t("div",{ref:"placeholder",key:"placeholder",class:_("placeholder")});return t("div",{class:_(),attrs:{role:"feed","aria-busy":this.innerLoading}},["down"===this.direction?this.slots():e,this.genLoading(),this.genFinishedText(),this.genErrorText(),"up"===this.direction?this.slots():e])}}),H=i("2b0e"),M=i("751a"),N=i("2f62");H["a"].use(X),H["a"].use(D);var R={data:function(){return{hotlist:[],allHotList:[],loading:!1,finished:!1,refreshing:!1,enter:"",leave:""}},created:function(){this.limit=12,this.page=0},mounted:function(){},computed:Object(a["a"])({},Object(N["c"])(["city"])),watch:{$route:function(t,e){t.meta.order>e.meta.order?(this.enter="slideInRight",this.leave="slideOutLeft"):(this.enter="slideInLeft",this.leave="slideOutRight")}},methods:{loadData:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.refreshing&&(t.hotlist=[],t.page=0),e.next=3,M["a"].get("/api/mmdb/movie/v2/list/hot.json",{limit:t.limit,offset:t.limit*t.page,ct:t.$store.state.city});case 3:return i=e.sent,t.hotlist=[].concat(Object(s["a"])(t.hotlist),Object(s["a"])(i.data.hot)),t.loading=!1,t.refreshing=!1,t.page++,t.page>=Math.ceil(i.data.total/t.limit)&&(t.finished=!0),e.next=11,t.$nextTick();case 11:document.querySelector(".main").scrollTo(0,t.$store.state.scrollTop);case 12:case"end":return e.stop()}}),e)})))()},onLoad:function(){this.loadData()},onRefresh:function(){this.loadData()},handleCityClick:function(){this.$router.push("/city")}}},z=R,q=(i("d7d5"),i("91e5"),i("2877")),F=Object(q["a"])(z,n,r,!1,null,"3b4f41e0",null);e["default"]=F.exports}}]);
//# sourceMappingURL=movie.c7b178fe.js.map