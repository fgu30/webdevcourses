(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["city"],{"02de":function(t,i,e){"use strict";function n(t){var i=window.getComputedStyle(t),e="none"===i.display,n=null===t.offsetParent&&"fixed"!==i.position;return e||n}e.d(i,"a",(function(){return n}))},1325:function(t,i,e){"use strict";e.d(i,"b",(function(){return a})),e.d(i,"a",(function(){return r})),e.d(i,"c",(function(){return d}));var n=e("a142"),s=!1;if(!n["g"])try{var c={};Object.defineProperty(c,"passive",{get:function(){s=!0}}),window.addEventListener("test-passive",null,c)}catch(l){}function a(t,i,e,c){void 0===c&&(c=!1),n["g"]||t.addEventListener(i,e,!!s&&{capture:!1,passive:c})}function r(t,i,e){n["g"]||t.removeEventListener(i,e)}function o(t){t.stopPropagation()}function d(t,i){("boolean"!==typeof t.cancelable||t.cancelable)&&t.preventDefault(),i&&o(t)}},"13d5":function(t,i,e){"use strict";var n=e("23e7"),s=e("d58f").left,c=e("a640"),a=e("ae40"),r=c("reduce"),o=a("reduce",{1:0});n({target:"Array",proto:!0,forced:!r||!o},{reduce:function(t){return s(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"1f97":function(t,i,e){},"2c64":function(t,i,e){"use strict";var n=e("39bd"),s=e.n(n);s.a},3875:function(t,i,e){"use strict";e.d(i,"a",(function(){return a}));var n=e("1325"),s=10;function c(t,i){return t>i&&t>s?"horizontal":i>t&&i>s?"vertical":""}var a={data:function(){return{direction:""}},methods:{touchStart:function(t){this.resetTouchStatus(),this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY},touchMove:function(t){var i=t.touches[0];this.deltaX=i.clientX-this.startX,this.deltaY=i.clientY-this.startY,this.offsetX=Math.abs(this.deltaX),this.offsetY=Math.abs(this.deltaY),this.direction=this.direction||c(this.offsetX,this.offsetY)},resetTouchStatus:function(){this.direction="",this.deltaX=0,this.deltaY=0,this.offsetX=0,this.offsetY=0},bindTouchEvent:function(t){var i=this.onTouchStart,e=this.onTouchMove,s=this.onTouchEnd;Object(n["b"])(t,"touchstart",i),Object(n["b"])(t,"touchmove",e),s&&(Object(n["b"])(t,"touchend",s),Object(n["b"])(t,"touchcancel",s))}}}},"39bd":function(t,i,e){},"5fbe":function(t,i,e){"use strict";e.d(i,"a",(function(){return c}));var n=e("1325"),s=0;function c(t){var i="binded_"+s++;function e(){this[i]||(t.call(this,n["b"],!0),this[i]=!0)}function c(){this[i]&&(t.call(this,n["a"],!1),this[i]=!1)}return{mounted:e,activated:e,deactivated:c,beforeDestroy:c}}},"5fe3":function(t,i,e){},"693e":function(t,i,e){"use strict";e.r(i);var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"container"},[e("van-index-bar",{attrs:{"index-list":t.indexList}},[e("section",[e("van-index-anchor",{attrs:{index:"定位"}},[e("div",{staticClass:"city-title",attrs:{id:"locate"}},[t._v(" 定位城市 ")])]),e("div",{staticClass:"city-list city-list-inline clearfix"},[e("div",{staticClass:"location-city"},[t._v("定位失败，请点击重试")])])],1),e("section",{staticClass:"history-city-list"},[e("van-index-anchor",{attrs:{index:"最近"}},[e("div",{staticClass:"city-title",attrs:{id:"history"}},[t._v(" 最近访问城市 ")])]),e("div",{staticClass:"city-list city-list-inline clearfix"},[e("div",{staticClass:"city-item",attrs:{"data-nm":"上海","data-id":"10"}},[t._v(" 上海 ")]),e("div",{staticClass:"city-item",attrs:{"data-nm":"北京","data-id":"1"}},[t._v(" 北京 ")]),e("div",{staticClass:"city-item",attrs:{"data-nm":"濮阳","data-id":"240"}},[t._v(" 濮阳 ")])])],1),e("section",[e("van-index-anchor",{attrs:{index:"热门"}},[e("div",{staticClass:"city-title",attrs:{id:"hot"}},[t._v(" 热门城市 ")])]),e("div",{staticClass:"city-list city-list-inline clearfix"},[e("div",{staticClass:"city-item",attrs:{"data-nm":"上海","data-id":"10"}},[t._v(" 上海 ")]),e("div",{staticClass:"city-item",attrs:{"data-nm":"北京","data-id":"1"}},[t._v(" 北京 ")]),e("div",{staticClass:"city-item",attrs:{"data-nm":"广州","data-id":"20"}},[t._v(" 广州 ")]),e("div",{staticClass:"city-item",attrs:{"data-nm":"深圳","data-id":"30"}},[t._v(" 深圳 ")]),e("div",{staticClass:"city-item",attrs:{"data-nm":"武汉","data-id":"57"}},[t._v(" 武汉 ")]),e("div",{staticClass:"city-item",attrs:{"data-nm":"天津","data-id":"40"}},[t._v(" 天津 ")]),e("div",{staticClass:"city-item",attrs:{"data-nm":"西安","data-id":"42"}},[t._v(" 西安 ")]),e("div",{staticClass:"city-item",attrs:{"data-nm":"南京","data-id":"55"}},[t._v(" 南京 ")]),e("div",{staticClass:"city-item",attrs:{"data-nm":"杭州","data-id":"50"}},[t._v(" 杭州 ")]),e("div",{staticClass:"city-item",attrs:{"data-nm":"成都","data-id":"59"}},[t._v(" 成都 ")]),e("div",{staticClass:"city-item",attrs:{"data-nm":"重庆","data-id":"45"}},[t._v(" 重庆 ")])])],1),t._l(t.cities,(function(i,n){return e("section",{key:n},[e("van-index-anchor",{attrs:{index:n}},[e("div",{staticClass:"city-title city-title-letter"},[t._v(" "+t._s(n)+" ")])]),e("div",{staticClass:"city-list city-list-block clearfix"},t._l(i,(function(i){return e("div",{key:i.id,staticClass:"city-item",on:{click:function(e){return t.handleClick(i)}}},[t._v(" "+t._s(i.nm)+" ")])})),0)],1)}))],2)],1)},s=[],c=(e("99af"),e("13d5"),e("b64b"),e("2909")),a=(e("96cf"),e("1da1")),r=(e("68ef"),e("1f97"),e("d282")),o=e("9884"),d=e("b1d2"),l=Object(r["a"])("index-anchor"),u=l[0],h=l[1],f=u({mixins:[Object(o["a"])("vanIndexBar",{indexKey:"childrenIndex"})],props:{index:[Number,String]},data:function(){return{top:0,left:null,width:null,active:!1}},computed:{sticky:function(){return this.active&&this.parent.sticky},anchorStyle:function(){if(this.sticky)return{zIndex:""+this.parent.zIndex,left:this.left?this.left+"px":null,width:this.width?this.width+"px":null,transform:"translate3d(0, "+this.top+"px, 0)",color:this.parent.highlightColor}}},mounted:function(){this.height=this.$el.offsetHeight},methods:{scrollIntoView:function(){this.$el.scrollIntoView()}},render:function(){var t,i=arguments[0],e=this.sticky;return i("div",{style:{height:e?this.height+"px":null}},[i("div",{style:this.anchorStyle,class:[h({sticky:e}),(t={},t[d["a"]]=e,t)]},[this.slots("default")||this.index])])}}),v=(e("bd4f"),e("a142")),y=e("02de"),p=e("1325"),m=e("a8c1"),b=e("3875"),g=e("5fbe");function x(){for(var t=[],i="A".charCodeAt(0),e=0;e<26;e++)t.push(String.fromCharCode(i+e));return t}var w=Object(r["a"])("index-bar"),C=w[0],O=w[1],T=C({mixins:[b["a"],Object(o["b"])("vanIndexBar"),Object(g["a"])((function(t){this.scroller||(this.scroller=Object(m["d"])(this.$el)),t(this.scroller,"scroll",this.onScroll)}))],props:{zIndex:[Number,String],highlightColor:String,sticky:{type:Boolean,default:!0},stickyOffsetTop:{type:Number,default:0},indexList:{type:Array,default:x}},data:function(){return{activeAnchorIndex:null}},computed:{sidebarStyle:function(){if(Object(v["c"])(this.zIndex))return{zIndex:this.zIndex+1}},highlightStyle:function(){var t=this.highlightColor;if(t)return{color:t}}},watch:{indexList:function(){this.$nextTick(this.onScroll)}},methods:{onScroll:function(){var t=this;if(!Object(y["a"])(this.$el)){var i=Object(m["c"])(this.scroller),e=this.getScrollerRect(),n=this.children.map((function(i){return{height:i.height,top:t.getElementTop(i.$el,e)}})),s=this.getActiveAnchorIndex(i,n);this.activeAnchorIndex=this.indexList[s],this.sticky&&this.children.forEach((function(c,a){if(a===s||a===s-1){var r=c.$el.getBoundingClientRect();c.left=r.left,c.width=r.width}else c.left=null,c.width=null;if(a===s)c.active=!0,c.top=Math.max(t.stickyOffsetTop,n[a].top-i)+e.top;else if(a===s-1){var o=n[s].top-i;c.active=o>0,c.top=o+e.top-c.height}else c.active=!1}))}},getScrollerRect:function(){return this.scroller.getBoundingClientRect?this.scroller.getBoundingClientRect():{top:0,left:0}},getElementTop:function(t,i){var e=this.scroller;if(e===window||e===document.body)return Object(m["a"])(t);var n=t.getBoundingClientRect();return n.top-i.top+Object(m["c"])(e)},getActiveAnchorIndex:function(t,i){for(var e=this.children.length-1;e>=0;e--){var n=e>0?i[e-1].height:0,s=this.sticky?n+this.stickyOffsetTop:0;if(t+s>=i[e].top)return e}return-1},onClick:function(t){this.scrollToElement(t.target)},onTouchMove:function(t){if(this.touchMove(t),"vertical"===this.direction){Object(p["c"])(t);var i=t.touches[0],e=i.clientX,n=i.clientY,s=document.elementFromPoint(e,n);if(s){var c=s.dataset.index;this.touchActiveIndex!==c&&(this.touchActiveIndex=c,this.scrollToElement(s))}}},scrollToElement:function(t){var i=t.dataset.index;if(i){var e=this.children.filter((function(t){return String(t.index)===i}));e[0]&&(e[0].scrollIntoView(),this.sticky&&this.stickyOffsetTop&&Object(m["e"])(Object(m["b"])()-this.stickyOffsetTop),this.$emit("select",e[0].index))}},onTouchEnd:function(){this.active=null}},render:function(){var t=this,i=arguments[0],e=this.indexList.map((function(e){var n=e===t.activeAnchorIndex;return i("span",{class:O("index",{active:n}),style:n?t.highlightStyle:null,attrs:{"data-index":e}},[e])}));return i("div",{class:O()},[i("div",{class:O("sidebar"),style:this.sidebarStyle,on:{click:this.onClick,touchstart:this.touchStart,touchmove:this.onTouchMove,touchend:this.onTouchEnd,touchcancel:this.onTouchEnd}},[e]),this.slots("default")])}}),k=e("2ef0"),_=e.n(k),j=e("751a"),S=e("2b0e");S["a"].use(T),S["a"].use(f);var I={data:function(){return{cities:{}}},mounted:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function i(){var e,n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,j["a"].get("/maoyansh/myshow/ajax/config/maoyan-show-m-web.frontEnd.config.cities");case 2:e=i.sent,console.log(e),n=_.a.groupBy(JSON.parse(e.data),(function(t){return t.py.substr(0,1).toUpperCase()})),t.cities=Object.keys(n).sort().reduce((function(t,i){return t[i]=n[i],t}),{});case 6:case"end":return i.stop()}}),i)})))()},computed:{indexList:function(){return["定位","最近","热门"].concat(Object(c["a"])(Object.keys(this.cities)))}},methods:{handleClick:function(t){var i=t.nm,e=t.id;this.$store.dispatch("changeCityName",{nm:i,id:e}),this.$router.push("/")}}},E=I,Y=(e("2c64"),e("f186"),e("2877")),A=Object(Y["a"])(E,n,s,!1,null,"6c91405c",null);i["default"]=A.exports},a8c1:function(t,i,e){"use strict";function n(t){return t===window}e.d(i,"d",(function(){return c})),e.d(i,"c",(function(){return a})),e.d(i,"b",(function(){return o})),e.d(i,"e",(function(){return d})),e.d(i,"a",(function(){return l}));var s=/scroll|auto/i;function c(t,i){void 0===i&&(i=window);var e=t;while(e&&"HTML"!==e.tagName&&1===e.nodeType&&e!==i){var n=window.getComputedStyle(e),c=n.overflowY;if(s.test(c)){if("BODY"!==e.tagName)return e;var a=window.getComputedStyle(e.parentNode),r=a.overflowY;if(s.test(r))return e}e=e.parentNode}return i}function a(t){var i="scrollTop"in t?t.scrollTop:t.pageYOffset;return Math.max(i,0)}function r(t,i){"scrollTop"in t?t.scrollTop=i:t.scrollTo(t.scrollX,i)}function o(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function d(t){r(window,t),r(document.body,t)}function l(t,i){if(n(t))return 0;var e=i?a(i):o();return t.getBoundingClientRect().top+e}},bd4f:function(t,i,e){},d58f:function(t,i,e){var n=e("1c0b"),s=e("7b0b"),c=e("44ad"),a=e("50c4"),r=function(t){return function(i,e,r,o){n(e);var d=s(i),l=c(d),u=a(d.length),h=t?u-1:0,f=t?-1:1;if(r<2)while(1){if(h in l){o=l[h],h+=f;break}if(h+=f,t?h<0:u<=h)throw TypeError("Reduce of empty array with no initial value")}for(;t?h>=0:u>h;h+=f)h in l&&(o=e(o,l[h],h,d));return o}};t.exports={left:r(!1),right:r(!0)}},f186:function(t,i,e){"use strict";var n=e("5fe3"),s=e.n(n);s.a}}]);
//# sourceMappingURL=city.024aa955.js.map